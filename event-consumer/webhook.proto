syntax = "proto3";

package event_consumer;

import "google/protobuf/timestamp.proto";


service WebhookService {
  rpc SubscribeWebhook (SubscribeWebhookRequest) returns (SubscribeWebhookResponse) {}
  rpc FindAllTypes (Empty) returns (WebhooksResponse) {}
  rpc FindAll (FindAllRequest) returns (WebhooksResponse) {}
  rpc UnsubscribeWebhook (UnsubscribeWebhookRequest) returns (UnsubscribeWebhookResponse) {}
}

message FindAllRequest {
  string userId = 1;
}

message SubscribeWebhookRequest {
  string userId = 1;
  string webhookId = 2;
}

message SubscribeWebhookResponse {
  string userId = 1;
  repeated WebhookResponse webhooks = 2;
}

message UnsubscribeWebhookRequest {
  string userId = 1;
  string webhookId = 2;
}

message WebhookResponse {
  string id = 1;
  string topic = 2;
}

message WebhooksResponse {
	repeated WebhookResponse webhooks = 1;
}

message UnsubscribeWebhookResponse {

}

message Empty {}
