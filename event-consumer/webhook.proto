syntax = "proto3";

package event_consumer;

import "google/protobuf/timestamp.proto";


service WebhookService {
  rpc subscribeWebhook (SubscribeWebhookRequest) returns (WebhookResponse) {}
  rpc findAllTypes (Empty) returns (WebhooksResponse) {}
  rpc findAll (FindAllRequest) returns (WebhooksResponse) {}
  rpc unsubscribeWebhook (UnsubscribeWebhookRequest) returns (UnsubscribeWebhookResponse) {}
}

message FindAllRequest {
  string userId = 1;
}

message SubscribeWebhookRequest {
  string userId = 1;
  string webhookId = 2;
}

message UnsubscribeWebhookRequest {
  string userId = 1;
  string webhookId = 2;
}

message WebhookResponse {
  int32 id = 1;
  string name = 2;
}

message WebhooksResponse {
	repeated WebhookResponse webhooks = 1;
}

message UnsubscribeWebhookResponse {

}

message Empty {}
